# Zero-to-Running Environment Configuration
# Copy this file to .env and update values as needed
# DO NOT commit .env file - it may contain sensitive data

#==============================================================================
# Application Environment
#==============================================================================

# Node environment: development, production, test
# Affects logging, error handling, and optimization
NODE_ENV=development

# Application name and version
APP_NAME=Zero-to-Running
APP_VERSION=1.0.0

#==============================================================================
# Service Ports
#==============================================================================

# Frontend service port (React application)
FRONTEND_PORT=3000

# Backend API service port
BACKEND_PORT=3001

# PostgreSQL database port
DATABASE_PORT=5432

# Redis cache port
REDIS_PORT=6379

# Node.js debug port (for debugging backend)
NODE_DEBUG_PORT=9229

#==============================================================================
# Database Configuration (PostgreSQL)
#==============================================================================

# Database connection settings
# Format: postgresql://[user]:[password]@[host]:[port]/[database]
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=zero_to_running_dev
DATABASE_USER=postgres

# ⚠️ MOCK SECRET - FOR DEVELOPMENT ONLY
# This is a mock password with CHANGE_ME_ prefix to indicate it's for development only.
# In production, replace with a strong password from a secret management system.
# Never commit real passwords to version control!
DATABASE_PASSWORD=CHANGE_ME_postgres_123

# Full database URL (constructed from above values)
# Used by backend to connect to PostgreSQL
DATABASE_URL=postgresql://${DATABASE_USER}:${DATABASE_PASSWORD}@${DATABASE_HOST}:${DATABASE_PORT}/${DATABASE_NAME}

# Database pool settings (optional - defaults in application)
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10

#==============================================================================
# Redis Configuration
#==============================================================================

# Redis connection settings
REDIS_HOST=localhost
REDIS_PORT=6379

# ⚠️ MOCK SECRET - FOR DEVELOPMENT ONLY
# Redis password is optional for development. Set CHANGE_ME_ prefix for production readiness.
# Leave empty for no authentication (development only), or set a strong password for production.
REDIS_PASSWORD=CHANGE_ME_redis_123
REDIS_DB=0

# Full Redis URL (constructed from above values)
# Used by backend for caching and session storage
REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}

# Session configuration
# ⚠️ MOCK SECRET - FOR DEVELOPMENT ONLY
# Session secret must be at least 32 characters long for security.
# Generate a production secret with: openssl rand -base64 32
SESSION_SECRET=CHANGE_ME_session_secret_32_character_minimum
SESSION_MAX_AGE=86400000

#==============================================================================
# Logging Configuration
#==============================================================================

# Backend log level: ERROR, WARN, INFO, DEBUG (case-insensitive)
# Controls verbosity of backend logs. DEBUG includes database queries and detailed request info.
LOG_LEVEL=INFO

# Backend log format: json (structured JSON), pretty (human-readable with colors)
# pretty format is recommended for development, json for production
LOG_FORMAT=pretty

# Number of log lines to display with 'make logs' command
LOG_LINES=100

# Frontend log level: ERROR, WARN, INFO, DEBUG (case-insensitive)
# Controls verbosity of browser console logs. Set to ERROR in production.
VITE_LOG_LEVEL=INFO

# Enable logging of user interactions in frontend (true/false)
# When enabled, logs clicks, navigation, and form submissions
# Recommended: false (only enable for debugging specific UI issues)
VITE_LOG_INTERACTIONS=false

#==============================================================================
# CORS Configuration
#==============================================================================

# Allowed origins for CORS (comma-separated)
# In development, allows frontend to communicate with backend
CORS_ORIGIN=http://localhost:3000,http://localhost:3001

# Allow credentials in CORS requests
CORS_CREDENTIALS=true

#==============================================================================
# API Configuration
#==============================================================================

# API base path prefix
API_BASE_PATH=/api

# Frontend API URL (used by React app to connect to backend)
# In Docker: http://localhost:3001
# In production: https://api.yourdomain.com
VITE_API_URL=http://localhost:3001

# API rate limiting (requests per minute)
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# Request timeout (milliseconds)
REQUEST_TIMEOUT=30000

#==============================================================================
# Docker Configuration
#==============================================================================

# Docker Compose project name
COMPOSE_PROJECT_NAME=zero-to-running

# Docker network name
DOCKER_NETWORK=zero-to-running-network

# Docker volume prefix
DOCKER_VOLUME_PREFIX=zero-to-running

#==============================================================================
# Development Tools
#==============================================================================

# Enable hot reload for frontend (true/false)
ENABLE_HOT_RELOAD=true

# Enable source maps in production (not recommended)
ENABLE_SOURCE_MAPS=false

# Enable verbose error messages (development only)
VERBOSE_ERRORS=true

# Enable API documentation (Swagger/OpenAPI)
ENABLE_API_DOCS=true

#==============================================================================
# Security Settings
#==============================================================================

# JWT secret for authentication (if implemented)
# ⚠️ MOCK SECRET - FOR DEVELOPMENT ONLY
# JWT secret must be at least 32 characters long for security.
# Generate a production secret with: openssl rand -base64 32
JWT_SECRET=CHANGE_ME_jwt_secret_32_character_minimum

# JWT expiration time (e.g., "1h", "7d", "30d")
JWT_EXPIRATION=7d

# Bcrypt salt rounds for password hashing
BCRYPT_SALT_ROUNDS=10

# Enable HTTPS (true/false) - requires SSL certificates
ENABLE_HTTPS=false

#==============================================================================
# Feature Flags (Optional)
#==============================================================================

# Enable experimental features (true/false)
ENABLE_EXPERIMENTAL_FEATURES=false

# Enable database seeding on startup
ENABLE_AUTO_SEED=false

# Enable health check endpoints
ENABLE_HEALTH_CHECKS=true

# Enable metrics collection
ENABLE_METRICS=false

#==============================================================================
# External Services (Optional - for future use)
#==============================================================================

# Email service configuration (e.g., SendGrid, Mailgun)
# EMAIL_SERVICE_API_KEY=
# EMAIL_FROM_ADDRESS=

# Cloud storage (e.g., AWS S3, Google Cloud Storage)
# CLOUD_STORAGE_BUCKET=
# CLOUD_STORAGE_KEY=

# Third-party API keys
# THIRD_PARTY_API_KEY=

#==============================================================================
# Testing Configuration (Optional)
#==============================================================================

# Test database (separate from development)
TEST_DATABASE_URL=postgresql://postgres:test_password@localhost:5433/zero_to_running_test

# Test Redis instance
TEST_REDIS_URL=redis://localhost:6380/0

# Disable external API calls during testing
MOCK_EXTERNAL_APIS=true

#==============================================================================
# Notes
#==============================================================================

# REQUIRED variables (must be set):
# - NODE_ENV
# - DATABASE_PASSWORD
# - SESSION_SECRET
# - JWT_SECRET (if using authentication)

# OPTIONAL variables (have defaults):
# - All port configurations (use defaults if not set)
# - Feature flags (disabled by default)
# - External service configurations (not needed for basic setup)

#==============================================================================
# ⚠️ MOCK SECRETS - SECURITY WARNING
#==============================================================================
#
# This .env.example file contains MOCK secrets with the "CHANGE_ME_" prefix.
# These are safe for local development but MUST be replaced in production.
#
# Mock secrets in this file:
#   - DATABASE_PASSWORD=CHANGE_ME_postgres_123
#   - REDIS_PASSWORD=CHANGE_ME_redis_123
#   - SESSION_SECRET=CHANGE_ME_session_secret_32_character_minimum
#   - JWT_SECRET=CHANGE_ME_jwt_secret_32_character_minimum
#
# When you start the application, you'll see warnings if mock secrets are detected.
# This is intentional and safe for development.
#
# For production deployment:
#   1. Replace all CHANGE_ME_ secrets with real values
#   2. Use a secret management system (AWS Secrets Manager, Vault, etc.)
#   3. Never commit .env file with real secrets to version control
#   4. Rotate secrets regularly
#   5. Use different credentials for each environment
#
# See /docs/SECRET_MANAGEMENT.md for detailed guidance on production secret handling.
#
#==============================================================================
