# Zero-to-Running - Full Profile
# Profile: full
# Services: All services (Frontend + Backend + PostgreSQL + Redis)
# Use Case: Full-stack development, end-to-end testing, complete application environment
#
# Usage: make dev profile=full (or simply: make dev)
#
# This profile starts all services for complete full-stack development:
# - PostgreSQL database
# - Node.js Backend API
# - React Frontend
# - Redis cache
#
# Benefits:
# - Complete application environment
# - Realistic testing with all services
# - Full-stack integration testing
# - All features available
#
# Tradeoffs:
# - Slower startup time (~60-90 seconds)
# - Higher resource usage (4 containers)
# - More complex debugging
#
# To switch to minimal profile: make down && make dev profile=minimal

#==============================================================================
# Profile Configuration
#==============================================================================

# Current profile identifier
PROFILE=full

#==============================================================================
# Application Environment
#==============================================================================

NODE_ENV=development
APP_NAME=Zero-to-Running
APP_VERSION=1.0.0

#==============================================================================
# Service Ports
#==============================================================================

# Frontend service port (React application)
FRONTEND_PORT=3000

# Backend API service port
BACKEND_PORT=3001

# PostgreSQL database port
DATABASE_PORT=5432

# Redis cache port
REDIS_PORT=6379

# Node.js debug port (for debugging backend)
NODE_DEBUG_PORT=9229

#==============================================================================
# Database Configuration (PostgreSQL)
#==============================================================================

DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=zero_to_running_dev
DATABASE_USER=postgres

# ⚠️ MOCK SECRET - FOR DEVELOPMENT ONLY
DATABASE_PASSWORD=CHANGE_ME_postgres_123

DATABASE_URL=postgresql://${DATABASE_USER}:${DATABASE_PASSWORD}@${DATABASE_HOST}:${DATABASE_PORT}/${DATABASE_NAME}

# Database pool settings for full profile
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10

#==============================================================================
# Redis Configuration
#==============================================================================

REDIS_HOST=localhost
REDIS_PORT=6379

# ⚠️ MOCK SECRET - FOR DEVELOPMENT ONLY
REDIS_PASSWORD=CHANGE_ME_redis_123
REDIS_DB=0

REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}

#==============================================================================
# Session Configuration
#==============================================================================

# ⚠️ MOCK SECRET - FOR DEVELOPMENT ONLY
SESSION_SECRET=CHANGE_ME_session_secret_32_character_minimum
SESSION_MAX_AGE=86400000

#==============================================================================
# Logging Configuration
#==============================================================================

# Backend log level
LOG_LEVEL=INFO
LOG_FORMAT=pretty
LOG_LINES=100

# Frontend log level
VITE_LOG_LEVEL=INFO
VITE_LOG_INTERACTIONS=false

#==============================================================================
# CORS Configuration
#==============================================================================

# Allowed origins for CORS (comma-separated)
CORS_ORIGIN=http://localhost:3000,http://localhost:3001
CORS_CREDENTIALS=true

#==============================================================================
# API Configuration
#==============================================================================

API_BASE_PATH=/api

# Frontend API URL (used by React app to connect to backend)
VITE_API_URL=http://localhost:3001

# API rate limiting (requests per minute)
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

REQUEST_TIMEOUT=30000

#==============================================================================
# Docker Configuration
#==============================================================================

COMPOSE_PROJECT_NAME=zero-to-running
DOCKER_NETWORK=zero-to-running-network
DOCKER_VOLUME_PREFIX=zero-to-running

# Docker Compose profile selection (used internally)
COMPOSE_PROFILES=full

#==============================================================================
# Development Tools
#==============================================================================

ENABLE_HOT_RELOAD=true
ENABLE_SOURCE_MAPS=false
VERBOSE_ERRORS=true
ENABLE_API_DOCS=true

#==============================================================================
# Security Settings
#==============================================================================

# ⚠️ MOCK SECRET - FOR DEVELOPMENT ONLY
JWT_SECRET=CHANGE_ME_jwt_secret_32_character_minimum
JWT_EXPIRATION=7d
BCRYPT_SALT_ROUNDS=10
ENABLE_HTTPS=false

#==============================================================================
# Feature Flags
#==============================================================================

ENABLE_EXPERIMENTAL_FEATURES=false
ENABLE_AUTO_SEED=false
ENABLE_HEALTH_CHECKS=true
ENABLE_METRICS=false

#==============================================================================
# External Services (Optional - for future use)
#==============================================================================

# Email service configuration (e.g., SendGrid, Mailgun)
# EMAIL_SERVICE_API_KEY=
# EMAIL_FROM_ADDRESS=

# Cloud storage (e.g., AWS S3, Google Cloud Storage)
# CLOUD_STORAGE_BUCKET=
# CLOUD_STORAGE_KEY=

# Third-party API keys
# THIRD_PARTY_API_KEY=

#==============================================================================
# Testing Configuration
#==============================================================================

TEST_DATABASE_URL=postgresql://postgres:test_password@localhost:5433/zero_to_running_test
TEST_REDIS_URL=redis://localhost:6380/0
MOCK_EXTERNAL_APIS=true

#==============================================================================
# Profile Notes
#==============================================================================

# FULL PROFILE - Complete Development Environment
#
# Services Started:
#   ✓ PostgreSQL Database
#   ✓ Node.js Backend API
#   ✓ React Frontend
#   ✓ Redis Cache
#
# Typical Startup Time: 60-90 seconds
# Memory Usage: ~1-1.5 GB
# CPU Usage: Moderate
#
# Best For:
#   - Full-stack feature development
#   - End-to-end testing
#   - Integration testing with all services
#   - Frontend development
#   - Realistic production-like environment
#   - Demonstrating the complete application
#
# When to Use Minimal Profile Instead:
#   - Backend-only development
#   - Fast iteration on API endpoints
#   - Database schema changes
#   - Backend unit tests
#
# To use minimal profile: make down && make dev profile=minimal
#==============================================================================
